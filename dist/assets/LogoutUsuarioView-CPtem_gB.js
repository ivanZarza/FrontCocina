import{y as n,_ as u,c,a as r,o as l,i as d}from"./index-Bd3iIt6k.js";const m={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:3000"},{VITE_API_URL:p}=m;class _{async logoutUsuario(){try{(await fetch(`${p}/api/listadelacompra/logout`,{method:"POST",credentials:"include"})).ok?console.log("Sesión cerrada"):console.error("Error al cerrar sesión")}catch(e){console.error(e)}}}const g=new _,S=n("datosUsuario",{state:()=>({usuario:{}}),actions:{establecerUsuario(o){this.usuario=o,localStorage.setItem("usuario",JSON.stringify(o))},obtenerDatosUsuario(){const o=JSON.parse(localStorage.getItem("usuario"));o&&(this.usuario=o)},limpiarUsuario(){this.usuario={},localStorage.removeItem("usuario"),console.log("usuario eliminado de localStorage")}}}),f={__name:"LogoutUsuarioView",setup(o){const e=S(),a=d(),t=async()=>{window.confirm("¿Estás seguro de que quieres cerrar sesión?")&&(await g.logoutUsuario(),a.push("/login"),e.limpiarUsuario(),localStorage.removeItem("recetasUsuario"))};return(i,s)=>(l(),c("div",null,[s[0]||(s[0]=r("h1",null,"Aqui para cerrar sesión",-1)),s[1]||(s[1]=r("h3",null,"Se borraran todos los datos, excepto los que esten guardados en la base de datos",-1)),r("button",{onClick:t},"Cerrar Sesión")]))}},I=u(f,[["__scopeId","data-v-af7eab02"]]);export{I as default};
