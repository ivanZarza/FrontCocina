import{_ as k,o as a,c as i,a as e,F as g,b as r,k as M,w as x,v as O,t as p,r as y,d as q,l as ee,u as h,n as C,e as $,m as S,p as B}from"./index-Bd3iIt6k.js";import{S as ne}from"./servicioIngredientes-dAZNO5r2.js";import{V as te}from"./VentanaToast-ZZRtjFVJ.js";import{c as se,a as oe,b as ae,d as F}from"./cantidades.helper-CQYEJ_OI.js";const ie={__name:"ExplicacionRecetas",emits:["mostrarDiv"],setup(d){return(c,t)=>(a(),i(g,null,[t[5]||(t[5]=e("h1",null,"CREA TU RECETA",-1)),e("div",null,[t[1]||(t[1]=e("h2",null,"En este apartado podrás crear tus propias recetas, siguiendo los pasos que se te indican a continuación. ",-1)),t[2]||(t[2]=e("h2",null,"Primero, introduce el número de personas para las que quieres hacer la receta.",-1)),t[3]||(t[3]=e("h2",null,"Después, elige el ingrediente principal, el acompañamiento y los condimentos.",-1)),t[4]||(t[4]=e("h2",null,"Finalmente, escribe una descripción de la receta y si quieres, compártela con la comunidad.",-1)),e("button",{class:"btn",onClick:t[0]||(t[0]=u=>c.$emit("mostrarDiv",1))},"¿Empezamos?")])],64))}},le=k(ie,[["__scopeId","data-v-9bd678f9"]]),re={class:"numero-personas"},ue={class:"contenedor-botones"},ce={__name:"PrimerPaso",emits:["mostrarDiv","cantidadDePersonas"],setup(d,{emit:c}){const t=r(1),u=c;return M(t,o=>{u("cantidadDePersonas",o)}),(o,n)=>(a(),i("div",null,[n[3]||(n[3]=e("div",null,[e("h2",{class:"texto-pasos"},"PASO 1"),e("h3",null,"Ingresa el número de personas")],-1)),e("div",re,[e("label",null,[n[2]||(n[2]=e("span",null,"Número de personas:",-1)),x(e("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=s=>t.value=s),min:"1"},null,512),[[O,t.value]])])]),e("div",ue,[e("button",{class:"btn",onClick:n[1]||(n[1]=s=>(o.$emit("mostrarDiv",2),o.$emit("cantidadDePersonas",t.value)))},"SIGUIENTE")])]))}},de=k(ce,[["__scopeId","data-v-111ac672"]]),ve={class:"pasosIngredientes"},me={class:"listaIngredientes"},pe={class:"contenedor-botones"},be={__name:"PasosIngredientes",props:{titulo:String,informacion:String,ingredientes:Array,siguiente:Number,anterior:Number},emits:["mostrarDiv"],setup(d){return(c,t)=>(a(),i(g,null,[e("div",null,[e("h2",null,p(d.titulo),1),e("h3",null,p(d.informacion),1)]),e("div",ve,[e("div",me,[e("ol",null,[(a(!0),i(g,null,y(d.ingredientes,(u,o)=>(a(),i("li",{key:o},p(u.nombre),1))),128))])])]),e("div",pe,[e("button",{class:"btn",onClick:t[0]||(t[0]=q(u=>c.$emit("mostrarDiv",d.anterior),["prevent","stop"]))},"ANTERIOR"),e("button",{class:"btn",onClick:t[1]||(t[1]=q(u=>c.$emit("mostrarDiv",d.siguiente),["prevent","stop"]))},"SIGUIENTE")])],64))}},G=k(be,[["__scopeId","data-v-840e3547"]]),fe={class:"descripcion"},ge={class:"contenedor-botones"},De={__name:"QuintoPaso",emits:["textoDescripcion","mostrarDiv","resultado"],setup(d,{emit:c}){const t=r(""),u=c;return M(t,o=>{u("textoDescripcion",o)}),(o,n)=>(a(),i(g,null,[n[3]||(n[3]=e("div",null,[e("h2",{class:"texto-pasos"},"PASO 5"),e("h3",null,"Finaliza la receta escribiendo una descripcion si es necesario")],-1)),e("div",fe,[x(e("textarea",{"onUpdate:modelValue":n[0]||(n[0]=s=>t.value=s)},null,512),[[O,t.value]]),e("div",ge,[e("button",{class:"btn",onClick:n[1]||(n[1]=s=>o.$emit("mostrarDiv",4))},"ANTERIOR"),e("button",{class:"btn",onClick:n[2]||(n[2]=s=>o.$emit("resultado"))},"FINALIZAR")])])],64))}},$e=k(De,[["__scopeId","data-v-e0765f79"]]),Pe={class:"bus"},Ae={class:"tipo"},Ie=["value"],ke={class:"buscador"},Re={class:"paginacion"},_e=["disabled"],Se={class:"prueba"},Ce=["onClick"],ye={__name:"PanelIngredientes",emits:["ingredienteSeleccionado"],setup(d,{expose:c,emit:t}){const u=r(""),o=r(""),n=r(1),s=new ne,R=s.ingredientes,U=s.tipos;s.cargarTipos();const w=t;c({limpiarPanel:N});function _(){s.cargarIngredientes({nombre:u.value,tipo:o.value,pagina:n.value})}function z(){n.value=1,_()}const L=()=>{R.value.length>=20&&(n.value++,_())},b=()=>{n.value>1&&(n.value--,_())};function E(P){P.seleccionado||(P.seleccionado=!0,w("ingredienteSeleccionado",P),console.log(P))}M(o,()=>{_()});function N(){R.value.forEach(P=>{P.seleccionado=!1,u.value="",o.value="",n.value=1}),_()}return(P,f)=>(a(),i(g,null,[e("div",Pe,[f[4]||(f[4]=e("h1",null,"Busca tus ingredientes",-1)),e("form",null,[e("div",Ae,[f[3]||(f[3]=e("span",null,"Selecciona por tipo de ingrediente",-1)),x(e("select",{"onUpdate:modelValue":f[0]||(f[0]=v=>o.value=v)},[f[2]||(f[2]=e("option",{value:"null"},"Selecciona un tipo",-1)),(a(!0),i(g,null,y(h(U),v=>(a(),i("option",{key:v.tipo,value:v.tipo},p(v.tipo),9,Ie))),128))],512),[[ee,o.value]])]),e("div",ke,[x(e("input",{type:"search","onUpdate:modelValue":f[1]||(f[1]=v=>u.value=v),placeholder:"Busca por una palabra"},null,512),[[O,u.value]])]),e("button",{class:"btn",onClick:q(z,["prevent"])},"Buscar")])]),e("div",Re,[e("button",{class:"btn",onClick:b,disabled:n.value===1},"Anterior",8,_e),e("span",null,"Página "+p(n.value),1),e("button",{class:"btn",onClick:L},"Siguiente")]),e("div",Se,[(a(!0),i(g,null,y(h(R),v=>(a(),i("div",{class:C(["card",{seleccionado:v.seleccionado}]),key:v.id,onClick:j=>E(v)},[e("p",null,p(v.nombre),1)],10,Ce))),128))])],64))}},Te=k(ye,[["__scopeId","data-v-0c06f510"]]),Ee={class:"listaIngredientes"},Ne={class:"listaIngredientes"},xe={class:"listaIngredientes"},Me={class:"descripcionFinal"},Ve={class:"textoFinal"},Oe={__name:"ResumenReceta",props:{numeroDePersonas:Number,principal:Array,acompanamiento:Array,condimentos:Array,descripcion:String},emits:["agregarReceta","actualizarNombreReceta"],setup(d,{emit:c}){const t=r(""),u=c;return M(t,o=>{u("actualizarNombreReceta",o)}),(o,n)=>(a(),i(g,null,[n[4]||(n[4]=e("h2",null,"Resumen de la Receta",-1)),e("h3",null," Para "+p(d.numeroDePersonas)+" "+p(d.numeroDePersonas===1?"persona":"personas"),1),n[5]||(n[5]=e("h3",null,"Principal",-1)),e("div",Ee,[e("ol",null,[(a(!0),i(g,null,y(d.principal,s=>(a(),i("li",{key:s.id},p(s.nombre)+" - "+p(s.cantidad)+" Grs ",1))),128))])]),n[6]||(n[6]=e("h3",null,"Acompañamiento",-1)),e("div",Ne,[e("ol",null,[(a(!0),i(g,null,y(d.acompanamiento,s=>(a(),i("li",{key:s.id},p(s.nombre)+" - "+p(s.cantidad)+" Grs ",1))),128))])]),n[7]||(n[7]=e("h3",null,"Condimentos",-1)),e("div",xe,[e("ol",null,[(a(!0),i(g,null,y(d.condimentos,s=>(a(),i("li",{key:s.id},p(s.nombre)+" - "+p(s.cantidad)+" Grs ",1))),128))])]),n[8]||(n[8]=e("h3",null,[e("strong",null,"Descripción:")],-1)),e("pre",Me,p(d.descripcion),1),e("div",Ve,[n[2]||(n[2]=e("h3",null,"¿QUIERES PASAR TU RECETA A LA LISTA DE LA COMPRA?",-1)),n[3]||(n[3]=e("h3",null,"Agrega un nombre a tu receta",-1)),x(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>t.value=s)},null,512),[[O,t.value]]),e("button",{class:"btn",onClick:n[1]||(n[1]=s=>o.$emit("agregarReceta"))},"AGREGAR A LA LISTA DE LA COMPRA")])],64))}},Ue=k(Oe,[["__scopeId","data-v-ae812b78"]]),we=["onClick"],ze={__name:"IndicePasos",props:{divsDisponibles:Number,divActivo:Number},emits:["mostrarDiv"],setup(d,{emit:c}){const t=c;function u(o){t("mostrarDiv",o)}return(o,n)=>(a(!0),i(g,null,y(d.divsDisponibles,s=>(a(),i("button",{onClick:R=>u(s),class:C(["button",{active:s===d.divActivo}])},p(`PASO ${s}`),11,we))),256))}},Le=k(ze,[["__scopeId","data-v-0ffabbc7"]]),Be={class:"recetas-usuario-view"},Fe={class:"indice"},Ge={key:0,class:"explicacion"},qe={class:"contenedor"},je={key:0},Qe={class:"panel"},he={key:1,class:"resumen"},Je={__name:"RecetasUsuarioView",setup(d){const c=r(1),t=r([]),u=r([]),o=r([]),n=r(""),s=r(""),R=r(!0),U=r(null),w=r(null),_=r(null),z=r(null),L=r(null),b=r(0),E=r(null),N=r(!1),P=r(!1),f=r(""),v=r(!1);function j(l){f.value=l,v.value=!0,setTimeout(()=>{v.value=!1},2e3)}function J(l){c.value=l}function Z(l){n.value=l,console.log(n.value)}function H(l){s.value=l}function Q(){E.value&&E.value.limpiarPanel()}const T=r(null),A=r(0),I=r(null);M(T,l=>{console.log("currentStep",{value:l,pasosEl:I},I==null?void 0:I.value.children[l-1]),B(()=>{var m;(m=I==null?void 0:I.value.children[l-1])==null||m.scrollIntoView({behavior:"smooth",block:"center"}),Q()})});const K={1:U,2:w,3:_,4:z,5:L};function D(l){T.value=l,l>A.value&&(A.value=l),b.value=l,l===1&&(R.value=!1);const m=K[l];m&&(m.value=!0,B(()=>{N.value=!0,Q()})),l===5&&(N.value=!0)}function W(l){b.value,b.value===2&&t.value.push(se(l,c.value)),b.value===3&&u.value.push(oe(l,c.value)),b.value===4&&o.value.push(ae(l,c.value)),b.value}function X(){t.value=F(t.value),u.value=F(u.value),o.value=F(o.value),B(()=>{N.value=!1,P.value=!0})}function Y(){let l=JSON.parse(localStorage.getItem("recetas"))||[];l.push({nombre:s.value,numeroDePersonas:c,principal:t.value,acompanamiento:u.value,condimentos:o.value,descripcion:n.value}),localStorage.setItem("recetas",JSON.stringify(l)),j("Receta añadida a la lista de la compra"),setTimeout(()=>{window.location.reload()},2e3)}return(l,m)=>(a(),i(g,null,[e("div",Be,[e("div",Fe,[$(Le,{divsDisponibles:A.value,divActivo:T.value,onMostrarDiv:D},null,8,["divsDisponibles","divActivo"])]),R.value?(a(),i("div",Ge,[$(le,{onMostrarDiv:D})])):S("",!0),e("div",qe,[e("div",{class:"pasos",ref_key:"pasosEl",ref:I},[A.value>=1?(a(),i("div",{key:0,class:C(["p1",{active:b.value===1}]),onClick:m[0]||(m[0]=V=>D(1))},[$(de,{numeroDePersonas:c.value,onMostrarDiv:D,onCantidadDePersonas:J},null,8,["numeroDePersonas"])],2)):S("",!0),A.value>=2?(a(),i("div",{key:1,class:C(["p2",{active:b.value===2}]),onClick:m[1]||(m[1]=V=>D(2))},[$(G,{ingredientes:t.value,anterior:1,siguiente:3,titulo:"PASO 2",informacion:"Elige el ingrediente principal",onMostrarDiv:D},null,8,["ingredientes"])],2)):S("",!0),A.value>=3?(a(),i("div",{key:2,class:C(["p3",{active:b.value===3}]),onClick:m[2]||(m[2]=V=>D(3))},[$(G,{ingredientes:u.value,anterior:2,siguiente:4,titulo:"PASO 3",informacion:"Elige el acompañamiento",onMostrarDiv:D},null,8,["ingredientes"])],2)):S("",!0),A.value>=4?(a(),i("div",{key:3,class:C(["p4",{active:b.value===4}]),onClick:m[3]||(m[3]=V=>D(4))},[$(G,{ingredientes:o.value,anterior:3,siguiente:5,titulo:"PASO 4",informacion:"Elige los condimentos",onMostrarDiv:D},null,8,["ingredientes"])],2)):S("",!0),A.value>=5?(a(),i("div",{key:4,class:C(["p5",{active:b.value===5}]),onClick:m[4]||(m[4]=V=>D(5))},[$($e,{onTextoDescripcion:Z,onMostrarDiv:D,onResultado:X})],2)):S("",!0)],512),T.value>=1&&T.value<5?(a(),i("div",je,[e("div",Qe,[$(Te,{onIngredienteSeleccionado:W,ref_key:"panelIngredientesRef",ref:E},null,512)])])):T.value>=5?(a(),i("div",he,[$(Ue,{numeroDePersonas:c.value,principal:t.value,acompanamiento:u.value,condimentos:o.value,descripcion:n.value,onAgregarReceta:Y,onActualizarNombreReceta:H},null,8,["numeroDePersonas","principal","acompanamiento","condimentos","descripcion"])])):S("",!0)])]),e("div",null,[$(te,{verToast:v.value,mensajeToast:f.value},null,8,["verToast","mensajeToast"])])],64))}},Xe=k(Je,[["__scopeId","data-v-1453764d"]]);export{Xe as default};
