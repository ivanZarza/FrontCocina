import{b as n}from"./index-Bd3iIt6k.js";const o={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:3000"},{VITE_API_URL:a}=o;class l{constructor(){this.ingredientes=n([]),this.tipos=n([]),this.porTipo=n([])}async cargarIngredientes({nombre:e=null,tipo:s=null,pagina:t=null}={}){const i=new URL(`${a}/api/listadelacompra/ingredientes`);e&&i.searchParams.append("nombre",e),s&&i.searchParams.append("tipo",s),t&&i.searchParams.append("pagina",t);const r=await(await fetch(i,{credentials:"include"})).json();this.ingredientes.value=r.resultados}async cargarTipos(){const s=await(await fetch(`${a}/api/listadelacompra/ingredientes/tipo`)).json();this.tipos.value=s}async cargarPorTipo(e){const t=await(await fetch(`${a}/ingredientes/tipo/${e}`)).json();this.porTipo.value=t}async agregarIngrediente(e){const s=await fetch(`${a}/ingredientes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});this.ingredientes.value.push(await s.json())}async eliminarIngrediente(e){await fetch(`${a}/ingredientes/${e}`,{method:"DELETE"}),this.ingredientes.value=this.ingredientes.value.filter(s=>s.id!==e)}async actualizarIngrediente(e){await fetch(`${a}/ingredientes/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),this.ingredientes.value=this.ingredientes.value.map(s=>s.id===e.id?e:s)}}export{l as S};
